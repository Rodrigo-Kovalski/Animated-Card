{*
* 2007-2014 PrestaShop
*
* NOTICE OF LICENSE
*
* This source file is subject to the Academic Free License (AFL 3.0)
* that is bundled with this package in the file LICENSE.txt.
* It is also available through the world-wide-web at this URL:
* http://opensource.org/licenses/afl-3.0.php
* If you did not receive a copy of the license and are unable to
* obtain it through the world-wide-web, please send an email
* to license@prestashop.com so we can send you a copy immediately.
*
* DISCLAIMER
*
* Do not edit or add to this file if you wish to upgrade PrestaShop to newer
* versions in the future. If you wish to customize PrestaShop for your
* needs please refer to http://www.prestashop.com for more information.
*
*  @author PrestaShop SA <contact@prestashop.com>
*  @copyright  2007-2014 PrestaShop SA
*  @license    http://opensource.org/licenses/afl-3.0.php  Academic Free License (AFL 3.0)
*  International Registered Trademark & Property of PrestaShop SA
*}

<div class="card-container">
	<div class="credit-card">
		<div class="front">
			<div class="row">
				<div class="col-md-12">
					<div id="card-brands">
						
					</div>
				</div>
			</div>
			<div class="row">
				<div class="col-md-12">
					<div class="card-number">
						**** **** **** ****
					</div>
				</div>
			</div>
			<div class="row">
				<div class="col-md-9">
					<div class="card-user-name">
						Nome e sobrenome
					</div>
				</div>
				<div class="col-md-3">
					<div class="card-date">
						<span><span class="card-month">MM</span>/<span class="card-year">AA</span></span>
					</div>
				</div>
			</div>
		</div>
		<div class="back">
			<div class="row">
				<div class="col-md-12 black-strip">
				</div>
			</div>
			<div class="row">
				<div class="col-md-12">
					<div class="card-security-number">
						****
					</div>
				</div>
			</div>
		</div>
	</div>
	<div class="cpf-card">
		<div class="row">
			<div class="col-md-12">
				<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="64px" height="64px" viewBox="0 0 64 64" version="1.1">
				<g id="surface1">
				<path style=" stroke:none;fill-rule:nonzero;fill:#bcbcbc;fill-opacity:1;" d="M 32 0 C 14.324219 0 0 14.324219 0 32 C 0 41.535156 4.171875 50.105469 10.796875 55.976562 C 16.453125 60.964844 23.875 64 32 64 C 40.136719 64 47.558594 60.964844 53.203125 55.960938 C 59.828125 50.105469 64 41.535156 64 32 C 64 14.324219 49.675781 0 32 0 Z M 32 0 "/>
				<path style=" stroke:none;fill-rule:nonzero;fill:#f3f3f3;fill-opacity:1;" d="M 50.695312 53.367188 C 49.058594 52.144531 46.085938 50.117188 42.847656 48.617188 C 39.609375 47.128906 37.707031 43.640625 38.222656 40.125 C 38.222656 40.074219 38.234375 40.023438 38.25 39.960938 C 38.25 39.960938 45.617188 34.972656 44.597656 30.109375 C 44.597656 30.109375 44.824219 30.121094 45.164062 30.097656 C 48.414062 29.796875 48.617188 24.957031 45.40625 24.441406 C 45.378906 24.441406 45.339844 24.429688 45.316406 24.429688 L 45.214844 23.898438 C 46.199219 20.460938 48.59375 10.039062 41.347656 11.046875 C 41.347656 11.046875 36.144531 2.445312 25.144531 6.589844 C 14.136719 10.722656 17.007812 20.585938 17.007812 20.585938 L 18.367188 24.515625 C 15.40625 25.246094 15.683594 29.820312 18.835938 30.109375 C 19.175781 30.136719 19.414062 30.121094 19.414062 30.121094 C 18.382812 34.984375 25.75 39.976562 25.75 39.976562 C 25.765625 40.039062 25.765625 40.089844 25.777344 40.136719 C 26.28125 43.652344 24.378906 47.144531 21.152344 48.628906 C 17.902344 50.128906 14.941406 52.171875 13.304688 53.378906 C 12.320312 54.097656 11.453125 54.96875 10.785156 55.988281 C 16.453125 60.964844 23.875 64 32 64 C 40.136719 64 47.558594 60.964844 53.203125 55.960938 C 52.546875 54.953125 51.679688 54.085938 50.695312 53.367188 Z M 50.695312 53.367188 "/>
				</g>
				</svg>
			</div>
		</div>
		<div class="row">
			<div class="col-md-12">
				<span>Cpf do titular do cartão</span>
			</div>
		</div>
		<div class="row">
			<div class="col-md-12">
				<div class="cpf-titular">
					<div class="cpf-number">
						*** *** *** *** **
					</div>
				</div>
			</div>
		</div>
	</div>
</div>























<style>
	@import url('https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@300&display=swap');

/* CRIANDO CARTÃO DE CREDITO */

.animated-card-wrapper{
	display: none;
	margin-top: 325px;
}

.card-container	{
	position: relative;
	display: flex;
	align-items: center;
	justify-content: center;
	width: 100%;
	height: 300px;
	overflow: hidden;
}

.credit-card {
	width: 280px;
	height: 170px;

	text-transform: uppercase;
    font-size: 12px;
    color: #333;
    letter-spacing: 0.3px;

    position: relative;
    transition: transform 0.6s ease-in-out;
}

.credit-card .front, .credit-card .back {
	position: absolute;
	top: 0;
	left: 0;

	padding: 15px;
	border-radius: 10px;
	background: linear-gradient(90deg,#c5c5c5,#e9e9e9);
	box-shadow: 0 2px 7px rgb(0 0 0 / 60%);

	width: 100%;
	height: 100%;

	overflow: hidden;
	backface-visibility: hidden;

	transition: transform 0.65s cubic-bezier(0.63, -0.19, 0.48, 1.47), color 0.35s ease-in-out;
}

.credit-card .front {
	transform: perspective(800px) rotateY(0deg);
}

.credit-card .back {
	transform: perspective(800px) rotateY(180deg);
}

/* BACKGROUND DO CARTÃO */

.credit-card .front::before, .credit-card .back::before, .cpf-card::before {
	content: '';
	width:340px;
	height: 340px;
    border: 1px solid #999;
    position: absolute;
    z-index: 1;
    border-radius: 50%;
    top: -185px;
    right: -95px;
    background: rgba(0,0,0,.03);
    mix-blend-mode: overlay;
}

.credit-card .front::after, .credit-card .back::after, .cpf-card::after {
	content: '';
	width:360px;
	height: 320px;
    border: 1px solid #999;
    position: absolute;
    z-index: 1;
    border-radius: 50%;
   	bottom: -160px;
    left: -135px;
    background:  rgba(58,58,58,.03);
    mix-blend-mode: overlay;
}

/* ANIMAÇÃO CARTÃO VIRANDO */

.front-flip {
	transform: perspective(800px) rotateY(-180deg) !important;
}

.back-flip {
	transform: perspective(800px) rotateY(0deg) !important;
}

/* ELEMENTOS DO CARTAO */

.credit-card .front #card-brands {
	max-width: 59px;
    height: 39px;
    border-radius: 4px;
    background: #aaa;
    background-repeat: no-repeat;
    background-size: contain;
    background-position: left;

    margin-bottom: 30px;
}


.credit-card .front .card-number {
	font-family: 'Roboto Mono', monospace;
    letter-spacing: 3.55px;
    font-size: 16px;
    padding: 10px 0
}

.credit-card .front .card-user-name, .credit-card .front .card-date span{
	font-family: 'Roboto Mono', monospace;
	white-space: nowrap;
	overflow: hidden;
}

.credit-card .back .black-strip {
	background: #313131;
	height: 40px;
	z-index: 2;
}

.credit-card .back .card-security-number {
	position: relative;

	background: #fff;
	margin: 10px 0;
	padding: 5px;

	font-family: 'Roboto Mono', monospace;
	text-align: right;
	color: #222;
	font-weight: bold;
}

.credit-card .back .card-security-number:after {
	content: '';
	position: absolute;
	right: -1px;
	top: -8px;

	height: 42px;
	width: 42px;
	border: 2px solid #22dd22;
	border-radius: 50%;
}

/* CPF */

.cpf-card {
	position: absolute;
	transform: translateX(500px);

	width: 280px;
	height: 170px;
	padding: 15px;
	border-radius: 10px;
	background: linear-gradient(90deg,#c5c5c5,#e9e9e9);
	box-shadow: 0 2px 7px rgb(0 0 0 / 60%);
	overflow: hidden;

	transition: transform 0.6s ease-in-out;
}

.cpf-card span {
	font-family: 'Roboto Mono', monospace;
	font-size: 15px;
	text-transform: uppercase;
}

.cpf-card .cpf-number {
	font-family: 'Roboto Mono', monospace;
	font-size: 18px;
	text-transform: uppercase;
	color: #555;
}

.cpf-card > div {
	margin-bottom: 12px;
}

/* ANIMAÇÕES ENTRE CARTÕES */

.card-slip {
	transform: translateX(0px);
}

.credit-card-slip {
	transform: translateX(-500px);
}

/* CORES DE FUNDO DOS CARTÕES */

.visa-background .card-number,
.mastercard-background .card-number,
.hipercard-background .card-number,
.american-express-background .card-number {
	filter: drop-shadow(0 1px 1px #111);
}

.visa-background,
.mastercard-background,
.hipercard-background,
.elo-background,
.american-express-background {
	color: #ffffff;
    animation: slidein 0.35s ease-in-out;
}

.visa-background {
    background: linear-gradient(90deg,#021670,#5168d1) !important;
}

.mastercard-background {
	background: linear-gradient(90deg,#35475b,#5a8296) !important;
}

.hipercard-background {
	background: linear-gradient(90deg,#7e1b1d,#bf3131) !important;
}

.elo-background {
	background: linear-gradient(90deg,#111,#222) !important;
}

.american-express-background {
	background: linear-gradient(90deg,#255a79,#3391c7) !important;
}

@keyframes slidein {
  from { filter: opacity(50%) }
  to   { filter: opacity(100%) }
}

/* BANDEIRAS */

.visa-brand {
	background-image: url(../img/visa.png) !important;
	background-color: transparent !important; 
}

.mastercard-brand{
	background-image: url(../img/mastercard.png) !important;
	background-color: transparent !important; 
}

.hipercard-brand{
	max-width: 95px !important;
	background-image: url(../img/hipercard.png) !important;
	background-color: transparent !important; 
}

.elo-brand{
	background-image: url(../img/elo.png) !important;
	background-color: transparent !important; 
}

.american-express-brand {
	background-image: url(../img/american-express.png) !important;
	background-color: transparent !important; 
}
</style>















<script>
	$(document).ready(function() {

	$(function() {

		$(".number-animated-card").on("focus", function(){
			$(".animated-card-wrapper").fadeIn("slow");
		});

	  	var $exibirTexto = $(".card-number");
	  
		$(".number-animated-card").on("keyup", function () {
			var texto = $(this).val();
			texto = texto.replace(/\s/g,'');
			texto = texto.replace(/\-/g,'');

			part1 = texto.substring(0,4).padEnd(4,'*');
			part2 = texto.substring(4,8).padEnd(4,'*');
			part3 = texto.substring(8,12).padEnd(4,'*');
			part4 = texto.substring(12,16).padEnd(4,'*');

			if(texto != ""){
				if(texto.length < 17){
					$exibirTexto.text(part1+" "+part2+" "+part3+" "+part4);
				}
			}else{
				$exibirTexto.empty();
				$exibirTexto.append('**** **** **** ****');
			}
		});
	});

	$(function() {

	  	var $exibirTexto = $(".card-user-name");
	  
		$(".name-animated-card").on("keyup", function () {
			var texto = $(this).val();

			if(texto.length != ""){
				$exibirTexto.text(texto);
			}else{
				$exibirTexto.empty();
				$exibirTexto.append('Nome e Sobrenome');
			}
		});
	});

	$(function() {
	  	var $exibirTexto = $(".card-month");
	  
		$(".month-animated-card").on("change keyup", function () {
			var texto = $(this).val();
			texto = texto.substring(0,2).padEnd(2,'M');

			if(texto.length != ""){
				$exibirTexto.text(texto);	
			}else{
				$exibirTexto.empty();
				$exibirTexto.append('MM');
			}
		});
	});

	$(function() {
	  	var $exibirTexto = $(".card-year");
	  
		$(".year-animated-card").on("change keyup", function () {
			var texto = $(this).val();

			if(texto.length != ""){
				if(texto.length > 2){
					texto = texto.substring(0,4).padEnd(4,'A');
					$exibirTexto.text(texto.substring(2,4));	
				}else{
					$exibirTexto.text(texto);
				}
			}else{
				$exibirTexto.empty();
				$exibirTexto.append('AA');
			}
		});
	});

	$(function() {
	  	var $exibirTexto = $(".card-security-number");
	  
		$(".cvv-animated-card").on("keyup", function () {
			var texto = $(this).val();
			texto = texto.substring(0,4).padEnd(4,'*');

			if(texto.length != ""){
				$exibirTexto.text(texto);
			}else{
				$exibirTexto.empty();
				$exibirTexto.append('****');
			}
		});
	});

	$(function() {

	  	var $exibirTexto = $(".cpf-number");
	  
		$(".cpf-slip-trigger").on("focus keyup", function () {
			var texto = $(this).val();
			texto = texto.replace(/\s/g,'');

			if(texto != ""){
				if(texto.length < 15){
					$exibirTexto.text(texto);
				}
			}else{
				$exibirTexto.empty();
				$exibirTexto.append('***.***.***-**');
			}
		});
	});

	$(function() {

		$(".cvv-animated-card").on("focus", function(){
			$(".front").addClass("front-flip");
			$(".back").addClass("back-flip")
		});

		$(".cvv-animated-card").on("blur", function(){
			$(".front").removeClass("front-flip");
			$(".back").removeClass("back-flip")
		});


		$(".cpf-slip-trigger").on("focus", function(){
			$(".credit-card").addClass("credit-card-slip");
			$(".cpf-card").addClass("card-slip");
		});

		$(".cpf-slip-trigger").on("blur", function(){
			$(".credit-card").removeClass("credit-card-slip");
			$(".cpf-card").removeClass("card-slip");
		});
	});

	function test_number(number){
	    var result = 'null';
		var bin = (number).replace(/\D/g,'');

		if(/^(4011(78|79)|43(1274|8935)|45(1416|7393|763(1|2))|50(4175|6699|67[0-7][0-9]|9000)|627780|63(6297|6368)|650(03([^4])|04([0-9])|05(0|1)|4(0[5-9]|3[0-9]|8[5-9]|9[0-9])|5([0-2][0-9]|3[0-8])|9([2-6][0-9]|7[0-8])|541|700|720|901)|651652|655000|655021)/.test(bin)){
			result = "elo";
		} else if (/^4[0-9][0-9][0-9][0-9][0-9]/.test(bin)) {
			result = "visa";
		} else if (/^5[1-5][0-9][0-9][0-9][0-9]/.test(bin)) {
			result = "mastercard";	
		} else if (/^(38[0-9][0-9][0-9][0-9]|60[0-9][0-9][0-9][0-9])/.test(bin)) {
			result = "hipercard";		
		} else if (/^(34[0-9][0-9][0-9][0-9]|37[0-9][0-9][0-9][0-9])/.test(bin)) {
			result = "american-express";		
		} 
	    return result;
	}

	$(function() {

		$(".number-animated-card").on("keyup blur", function(){
			var bin = (this.value).replace(/\D/g,'');
			var result = test_number(bin);

			if(result!='null'){
				$(".front").removeClass().addClass('front '+result+"-background");
				$(".back").removeClass().addClass('back '+result+"-background");
				$("#card-brands").removeClass().addClass(result+"-brand");
			} else {
				$('.front').removeClass().addClass('front');
				$('.back').removeClass().addClass('back');
				$("#card-brands").removeClass();
			}
			
		});
	});

});
</script>